<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Avatar History</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            max-width: 800px;
            margin: auto;
        }
        .avatar {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Avatar History</h1>
        <div id="avatarHistory"></div>
    </div>

    <script>
        // Function to fetch and display avatar history
        async function fetchAvatarHistory(userId) {
            try {
                const response = await fetch(`https://api.rival.rocks/avatars/${userId}?format=json`);
                const avatarData = await response.json();
                const avatarHistoryElement = document.getElementById('avatarHistory');

                if (!avatarData || !avatarData.avatars || avatarData.avatars.length === 0) {
                    avatarHistoryElement.innerHTML = `<p>No avatar history found for user ID ${userId}</p>`;
                } else {
                    avatarHistoryElement.innerHTML = '';
                    avatarData.avatars.forEach((avatar, index) => {
                        avatarHistoryElement.innerHTML += `<div class="avatar">
                            <h3>Avatar ${index + 1}</h3>
                            <img src="${avatar.url}" alt="Avatar ${index + 1}">
                        </div>`;
                    });
                }
            } catch (error) {
                console.error('Error fetching avatar history:', error);
                const avatarHistoryElement = document.getElementById('avatarHistory');
                avatarHistoryElement.innerHTML = `<p>Error fetching avatar history for user ID ${userId}</p>`;
            }
        }

        // Extract user ID from URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('user');

        // Fetch avatar history for the specified user ID
        if (userId) {
            fetchAvatarHistory(userId);
        } else {
            document.getElementById('avatarHistory').innerHTML = '<p>No user ID specified in URL.</p>';
        }
    </script>
</body>
</html>
